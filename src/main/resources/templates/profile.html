<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/html" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>User Profile</title>

    <style>
        .profile-header {
            transform: translateY(5rem);
        }
        body {
            background: #0CC;
            background: -webkit-linear-gradient(to right, #00CCCC, #00e6e6);
            background: linear-gradient(to right, #00CCCC, #00e6e6);
            min-height: 100vh;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="jquery-3.3.1.slim.min.js" rel="stylesheet">
    <link href="bootstrap.bundle.min.js" rel="stylesheet">
    <link href="font-awesome.min.css" rel="stylesheet">
</head>

<body style="overflow: hidden">
<div class="row py-5 px-4">
    <div class="col-xl-4 col-md-6 col-sm-10 mx-auto">
        <div class="bg-white shadow rounded overflow-hidden">
            <div class="px-4 pt-0 pb-4 bg-dark">
                <div class="media align-items-end profile-header">
                    <div class="profile mr-3">
                        <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-
                        profile-picture-973460__340.png"
                             alt="..." width="130" class="rounded mb-2 img-thumbnail">
                    </div>
                    <div class="media-body mb-5 text-white">
                       <h4 th:text="${loggedUser.getName()}"></h4>
                       <h4 th:text="${loggedUser.getSurname()}"></h4>
                        <p class="small mb-4"> <i class="fa fa-map-marker mr-2" th:text="${loggedUser.getUsername()}"></i></p>
                    </div>
                </div>
            </div>

            <div class="py-4 px-4">
                <div class="d-flex align-items-center justify-content-between mb-3">
                    <h5 class="mb-0">Recent photos</h5><a href="#" class="btn btn-link text-muted"></a>
                </div>

                <div sec:authorize="hasRole('ROLE_LIBRARIAN')">
                    <a class="nav-link" th:href="@{/books/add-form}">Додади книга</a>
                </div>

                <div sec:authorize="hasRole('ROLE_USER')">
                <div class="py-4">
                    <h5 class="mb-3">Книги кои сакам да ги прочитам:</h5>
                </div >

                <div class="container mb-4">
                    <div class="row">
                        <div class="col-12" th:if="${books.size() > 0}">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th scope="col">Име</th>
                                        <th scope="col">Автор</th>
                                        <th scope="col">Опис</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="book : ${books}" class="book">
                                        <td th:text="${book.getName()}"></td>
                                        <td th:text="${book.getAuthor()}"></td>
                                        <td th:text="${book.getDescription()}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</body>
</html>
